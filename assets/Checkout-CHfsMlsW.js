import{b as j,u as f,f as g,r as c,j as e,h as b}from"./index-CV5F6aYR.js";import{f as i}from"./formatCurrency-A_zjcONg.js";function C(){const d=j(a=>a.cart.items||{}),t=Object.values(d),m=t.reduce((a,n)=>a+(n.product.price||0)*n.quantity,0),o=f(),u=g(),[s,h]=c.useState({name:"",email:"",address:""}),[l,p]=c.useState(!1),r=a=>h({...s,[a.target.name]:a.target.value}),x=a=>{if(a.preventDefault(),!s.name.trim()||!s.email.trim()||!s.address.trim()){alert("Please fill all details.");return}p(!0),setTimeout(()=>{alert("Order placed"),o(b()),u("/",{replace:!0})},400)};return t.length?e.jsxs("div",{className:"checkout",children:[e.jsx("h2",{children:"Checkout"}),e.jsxs("div",{className:"checkout-grid",children:[e.jsxs("form",{className:"checkout-form",onSubmit:x,children:[e.jsxs("label",{children:["Name",e.jsx("input",{name:"name",value:s.name,onChange:r})]}),e.jsxs("label",{children:["Email",e.jsx("input",{name:"email",value:s.email,onChange:r})]}),e.jsxs("label",{children:["Address",e.jsx("textarea",{name:"address",value:s.address,onChange:r})]}),e.jsxs("button",{type:"submit",className:"btn-primary",disabled:l,children:[l?"Placing...":"Place Order"," "]})]}),e.jsxs("aside",{className:"order-summary",children:[e.jsx("h3",{children:"Order Summary"}),e.jsx("ul",{children:t.map(a=>e.jsxs("li",{children:[a.product.title," × ",a.quantity," — ",i(a.product.price*a.quantity)]},a.product.id))}),e.jsx("p",{children:e.jsxs("strong",{children:["Total: ",i(m)]})})]})]})]}):e.jsxs("div",{className:"center",children:[e.jsx("h3",{children:"Your cart is empty"}),e.jsx("p",{children:"Add items before checking out."})]})}export{C as default};
