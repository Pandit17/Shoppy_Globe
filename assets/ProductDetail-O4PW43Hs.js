import{c as f,u as h,r as s,j as e,a as p}from"./index-G3wsvx62.js";import{a as x}from"./productsApi-DxbXHi7U.js";import{f as j}from"./formatCurrency-A_zjcONg.js";function v(){const{id:i}=f(),d=h(),[t,o]=s.useState(null),[l,c]=s.useState(!0),[n,u]=s.useState();s.useEffect(()=>{let r=!0;return(async()=>{c(!0);try{const a=await x(i);r&&o(a)}catch(a){r&&u(a.message||"Failed to load product")}finally{r&&c(!1)}})(),()=>r=!1},[i]);const m=()=>{if(!t)return;const r={id:t.id,title:t.title,price:t.price,thumbnail:t.thumbnail||t.images&&t.images[0]||""};d(p(r))};return l?e.jsx("div",{className:"center",children:"Loading product..."}):n?e.jsxs("div",{className:"center error",children:["Error: ",n]}):t?e.jsxs("div",{className:"detail",children:[e.jsx("img",{src:t.thumbnail||t.images&&t.images[0],alt:t.title,loading:"lazy"}),e.jsxs("div",{className:"detail-info",children:[e.jsx("h2",{children:t.title}),e.jsx("p",{className:"price",children:j(t.price)})," ",e.jsx("p",{children:t.description})," ",e.jsxs("p",{children:[e.jsx("strong",{children:"Brand:"})," ",t.brand," â€¢ ",e.jsx("strong",{children:"Stock:"})," ",t.stock]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:m,children:"Add to cart"})})]})]}):e.jsx("div",{className:"center",children:"Product not found"})}export{v as default};
