import{u as j,f as g,b,r as d,j as e,L as y,y as o,h as k}from"./index-BRkf0ifn.js";import{f as m}from"./formatCurrency-A_zjcONg.js";function N(){const u=j(),h=g(),p=b(a=>a.cart.items||{}),r=Object.values(p),x=r.reduce((a,i)=>a+(i.product.price||0)*i.quantity,0),[s,l]=d.useState({name:"",email:"",address:""}),[c,n]=d.useState(!1),t=a=>l({...s,[a.target.name]:a.target.value}),f=a=>{if(a.preventDefault(),!s.name.trim()||!s.email.trim()||!s.address.trim()){o.error("Please fill all details!",{theme:"dark"});return}n(!0),setTimeout(()=>{o.success("Order placed successfully!",{autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,theme:"dark",style:{background:"rgba(15,23,32,0.95)",color:"#e6eef7",boxShadow:"0 0 12px rgba(124,92,255,0.4)",borderLeft:"4px solid #7c5cff",borderRadius:"8px",padding:"12px 16px",minWidth:"280px"}}),setTimeout(()=>{u(k()),l({name:"",email:"",address:""}),n(!1),h("/",{replace:!0})},2100)},400)};return r.length?e.jsxs("div",{className:"checkout",children:[e.jsx("h2",{children:"Checkout"}),e.jsxs("div",{className:"checkout-grid",children:[e.jsxs("form",{className:"checkout-form",onSubmit:f,children:[e.jsxs("label",{children:["Name",e.jsx("input",{name:"name",value:s.name,onChange:t,placeholder:"Your full name"})]}),e.jsxs("label",{children:["Email",e.jsx("input",{name:"email",type:"email",value:s.email,onChange:t,placeholder:"you@example.com"})]}),e.jsxs("label",{children:["Address",e.jsx("textarea",{name:"address",value:s.address,onChange:t,placeholder:"Shipping address"})]}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:c,children:c?"Placing...":"Place Order"})]}),e.jsxs("aside",{className:"checkout-summary",children:[e.jsx("h3",{children:"Order Summary"}),e.jsx("ul",{children:r.map(a=>e.jsxs("li",{children:[a.product.title," × ",a.quantity," —"," ",m(a.product.price*a.quantity)]},a.product.id))}),e.jsx("p",{children:e.jsxs("strong",{children:["Total: ",m(x)]})})]})]})]}):e.jsxs("div",{className:"centered-empty",children:[e.jsx("h2",{children:"Your cart is empty"}),e.jsx("p",{children:"Add items to proceed to checkout."}),e.jsx(y,{to:"/",className:"btn-primary",children:"Go Shopping"})]})}export{N as default};
